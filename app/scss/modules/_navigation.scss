nav.navigation {
    @include transition(left cubic-bezier(0, 0, .2, 1) .5s);
    width: $navigation-width;
    position: fixed;
    min-height: 100%;
    color: $gray;
    z-index: 2;
    left: 0;
    border-right: 1px solid rgba($black, 0.7);
    
    background-image: url('../images/iphone.jpg');
    background-color: $color-neutral-90;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    position: absolute;
    top: 0;
    bottom: 0;

    &:after {
        display: block;
        content: " ";
        position: absolute;
        z-index: 8;
        left: 0;
        right: 0;
        bottom: 0;
        top: 0;
        width: $navigation-width;
        background-color: rgba($color-neutral-90, 0.8);
    }

    &.ng-hide,
    &.is-hidden {
        left: -$navigation-width;
    }

    > * {
        position: relative;
        z-index: 10;
    }
}

.navigation--title {
    background: rgba($color-neutral-90, 0.5);
    color: $color-neutral-10;
    font-size: $font-size-60;
    padding: $spacing $spacing/2 $spacing;
    font-weight: 300;
    height: $header-height;
}

ul.navigation--modules {
    @include display(flex);
    overflow: hidden;

    li {
        @include flex(1 1 auto);
        @include display(flex);
        @include align-items(center);
        @include justify-content(center);

        font-size: $font-size-50;
        padding: $spacing/2 0;
        //border-radius: $border-radius-20 $border-radius-20 0 0 ;
        position: relative;

        &:not(:first-of-type) { border-left: 1px solid $color-neutral-70; }

        &:hover {
            cursor: pointer;
            color: $white;
        }

        &.active {
            color: $color-brand-50;
            border-bottom: 4px solid $color-brand-50;
        }

        .badge {
            position: absolute;
            height: 1.45rem;
            width: 1.45rem;
            text-align: center;
            top: .2rem;
            background: $red;
            color: $white;
            border-radius: 50%;
            font-size: $font-size-10;
        }
    }
}


.navigation--module-title {
    margin: 0 0.35rem;
    padding: $spacing/2 $spacing/2 0.15rem;

    font-size: $font-size-40;
    text-transform: uppercase;
    border-bottom: 1px solid rgba($white, 0.3);
}


.navigation--sections {
    //background: $color-neutral-70;
    padding: 0.35rem;

    li {
        @include ellipsis;
        padding: 0.35rem $spacing/2;
        position: relative;

        &:hover,
        &.active {
            color: $white;
            //background-color: $color-neutral-60;
        }

        &:hover {
            cursor: pointer;
            //border-left: .3em solid $color-neutral-50;
        }

        &.active {
            color: $color-brand-50;
            background: rgba($white, 0.05);
        }

        .badge {
            position: absolute;
            top: .43em;
            right: .3em;
            padding: 0 .5em;
            background: $red;
            color: $white;
            border-radius: $border-radius-20;
            font-size: .9em;
            @include transition(all cubic-bezier(.295, .305, .065, 1.455) .3s);
            opacity: 1;

            &.ng-hide {
                opacity: 0;
                font-size: 0;
            }

            &.ng-animate {
                animation-name: badge;
                animation-duration: 1s;
            }
        }
    }
}

@keyframes badge {
    0%,
    20%,
    40%,
    60%,
    80%,
    100% {
        transition-timing-function: cubic-bezier(.215, .610, .355, 1);
    }

    0% {
        transform: scale3d(.3, .3, .3);
    }

    20% {
        transform: scale3d(1.2, 1.2, 1.2);
    }

    40% {
        transform: scale3d(.9, .9, .9);
    }

    60% {
        transform: scale3d(1.1, 1.1, 1.1);
    }

    80% {
        transform: scale3d(.95, .95, .95);
    }

    100% {
        transform: scale3d(1, 1, 1);
    }
}